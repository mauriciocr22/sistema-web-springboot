<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Histórico</title>
</head>
<body>
    <div th:replace="fragments/navbar :: navbar"></div>
    <h1>Histórico de Buscas</h1>

    <table border="1">
        <thead>
            <tr>
                <th>Cidade</th>
                <th>Temperatura (°C)</th>
                <th>Descrição</th>
                <th>Data da Consulta</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="busca : ${buscas}">
                <td th:text="${busca.cidade}"></td>
                <td th:text="${busca.temperatura}"></td>
                <td th:text="${busca.descricao}"></td>
                <td>
                    <span th:if="${busca.dataConsulta != null}" th:text="${#temporals.format(busca.dataConsulta, 'dd/MM/yyyy HH:mm')}"></span>
                    <span th:if="${busca.dataConsulta == null}">—</span>
                </td>
            </tr>
        </tbody>
    </table>
</body>
</html>